!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}(this,function(){var e=function(t,n){"use strict";var o=Object.create(e.prototype),r=0,s=0,i=[],a=!1,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},c=function(e,t,n){return e<=t?t:e>=n?n:e};if(o.options={speed:-2,center:!1},n&&Object.keys(n).forEach(function(e){o.options[e]=n[e]}),o.options.speed=c(o.options.speed,-10,10),t||(t=".rellax"),document.getElementsByClassName(t.replace(".","")))o.elems=document.getElementsByClassName(t.replace(".",""));else{if(document.querySelector(t)===!1)throw new Error("The elements you're trying to select don't exist.");o.elems=document.querySelector(t)}var d=function(){s=window.innerHeight,u();for(var e=0;e<o.elems.length;e++){var t=m(o.elems[e]);i.push(t)}window.addEventListener("resize",function(){w()}),p(),w()},m=function(e){var t=e.getAttribute("data-rellax-percentage"),n=e.getAttribute("data-rellax-speed"),r=t||o.options.center?document.body.scrollTop:0,i=r+e.getBoundingClientRect().top,a=e.clientHeight||e.offsetHeight||e.scrollHeight,l=t?t:(r-i+s)/(a+s);o.options.center&&(l=.5);var d=n?c(n,-10,10):o.options.speed;(t||o.options.center)&&(d=c(n||o.options.speed,-5,5));var m=f(l,d),u=e.style.cssText,p="";if(u.indexOf("transform")>=0){var w=u.indexOf("transform"),g=u.slice(w),y=g.indexOf(";");p=y?" "+g.slice(11,y).replace(/\s/g,""):" "+g.slice(11).replace(/\s/g,"")}return{base:m,top:i,height:a,speed:d,style:u,transform:p}},u=function(){var e=r;return r=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e!=r},f=function(e,t){var n=t*(100*(1-e));return Math.round(n)},p=function(){u()&&a===!1&&w(),l(p)},w=function(){for(var e=0;e<o.elems.length;e++){var t=(r-i[e].top+s)/(i[e].height+s),n=f(t,i[e].speed)-i[e].base,a=" translate3d(0,"+n+"px,0)"+i[e].transform;o.elems[e].style.cssText=i[e].style+"-webkit-transform:"+a+";-moz-transform:"+a+";transform:"+a+";"}};return o.destroy=function(){for(var e=0;e<o.elems.length;e++)o.elems[e].style.cssText=i[e].style;a=!0},d(),o};return e});